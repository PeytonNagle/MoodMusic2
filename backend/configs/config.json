{
  "version": "1.0.0",
  "environment": "dev",

  "ai_provider": {
    "default": "gemini",
    "ollama": {
      "base_url": "http://localhost:11434",
      "model": "llama3.2:1b",
      "temperatures": {
        "analysis": 0.3,
        "recommendations_standard": 0.7,
        "recommendations_low_popularity": 0.85
      },
      "token_limits": {
        "analysis_initial": 400,
        "analysis_retry": 800,
        "recommendations_base": 1500,
        "recommendations_per_song": 120,
        "recommendations_cap": 8000
      },
      "timeout": 30,
      "keep_alive": "5m"
    }
  },

  "request_handling": {
    "max_emojis": 12,
    "song_limits": {
      "default": 10,
      "min": 10,
      "max": 50
    },
    "sizing": {
      "first_request": {
        "multiplier": 1.5,
        "cap": 30
      },
      "second_request": {
        "multiplier": 2.0,
        "cap": 40,
        "floor": 5
      }
    },
    "max_recommendation_attempts": 2
  },

  "gemini": {
    "model": "gemini-2.5-flash",
    "temperatures": {
      "analysis": 0.4,
      "recommendations_standard": 0.8,
      "recommendations_low_popularity": 0.9
    },
    "token_limits": {
      "analysis_initial": 512,
      "analysis_retry": 1024,
      "recommendations_base": 2000,
      "recommendations_per_song": 160,
      "recommendations_cap": 12000
    }
  },

  "spotify": {
    "search": {
      "limit": 5,
      "market": "US"
    },
    "matching": {
      "threshold": 60,
      "early_exit_score": 80,
      "primary_artist_bonus": 50,
      "any_artist_bonus": 20
    }
  },

  "popularity": {
    "base_tolerance": 5,
    "extra_tolerance": {
      "Growing": 10,
      "Rising": 12,
      "Under the Radar": 15
    },
    "ranges": {
      "Any": null,
      "Global / Superstar": [90, 100],
      "Hot / Established": [75, 89],
      "Buzzing / Moderate": [50, 74],
      "Growing": [25, 49],
      "Rising": [15, 24],
      "Under the Radar": [0, 14]
    },
    "minimum_filtered_threshold_ratio": 0.5
  },

  "database": {
    "connection_pool": {
      "min_connections": 2,
      "max_connections": 10
    },
    "save_queue": {
      "enabled": true,
      "max_size": 100,
      "behavior_on_full": "skip"
    },
    "persistence": {
      "save_requests": true,
      "save_songs": true
    },
    "history": {
      "default_limit": 20,
      "max_limit": 50
    }
  },

  "flask": {
    "debug": true,
    "host": "0.0.0.0",
    "port": 5000
  }
}
